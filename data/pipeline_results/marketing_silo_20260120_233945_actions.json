[
  {
    "action_id": "action_1",
    "title": "Implement provisional conversion-to-email link table with soft FK checks",
    "description": "Design and create a provisional link table (e.g., fact_email_conversion_attribution) to associate conversions with email_sends using soft foreign key validation. Implementation details:\n- Schema: include conversion_id, email_send_id, attribution_type (first_touch/last_touch/multi_touch), attribution_weight, match_score, created_at, source_system.\n- Matching logic: join on user_id/email and time-window rules (e.g., conversion_time between send_time and send_time + X days; optionally require open/click before conversion).\n- Soft FK: enforce referential integrity via nightly validation jobs (flag missing email_send_id or conversion_id) instead of hard DB constraints initially.\n- Backfill: run an initial backfill for the last 90–180 days of data and store match quality metrics (e.g., match_rate, multi_match_rate).\n- Logging: log unmatched conversions and ambiguous matches into a separate audit table for later review.\n- Make the table available in analytics/BI with clear naming and basic documentation of fields.",
    "action_type": "implementation",
    "priority": "critical",
    "priority_score": 3.4,
    "impact": "high",
    "effort": "medium",
    "estimated_hours": 32,
    "source_decision": "decision_link_conversions_email_sends",
    "dependencies": [],
    "assignee_role": "developer",
    "status": "pending"
  },
  {
    "action_id": "action_3",
    "title": "Schedule 30-day review of email-to-conversion attribution performance",
    "description": "Set up a formal 30-day review with the marketing analytics and data engineering teams to validate the provisional attribution logic implemented in the conversion-to-email link table. Review scope:\n- Compare expected vs. actual attribution rates (e.g., % of conversions attributed to any email, distribution by channel).\n- Evaluate stability of attribution metrics over the 30-day period (daily/weekly trends).\n- Review edge cases: multiple emails before a conversion, cross-device behavior, delayed conversions.\n- Assess business usability: do the metrics align with existing marketing reports and stakeholder expectations?\n- Decide whether to: (a) promote the logic to a standard, (b) adjust matching rules/time windows, or (c) keep it provisional with additional monitoring.\nDeliverables: meeting notes, agreed changes (if any), and a decision on next steps for the attribution model.",
    "action_type": "review",
    "priority": "high",
    "priority_score": 3.3,
    "impact": "medium",
    "effort": "low",
    "estimated_hours": 8,
    "source_decision": "decision_link_conversions_email_sends",
    "dependencies": [
      "action_1",
      "action_2",
      "action_4"
    ],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_5",
    "title": "Enforce foreign key from email_events to email_sends with cascade policy",
    "description": "Implement a strong referential integrity constraint between email_events and email_sends to ensure every event is tied to a valid send. Implementation details:\n- Data profiling: quantify current orphan rate (events with missing/invalid email_send_id) and event volume by type.\n- Data cleanup: backfill or remove invalid references (e.g., fix known mapping issues, quarantine irreparable records in an exceptions table).\n- Schema change: add a foreign key constraint on email_events.email_send_id → email_sends.id.\n- Cascade policy: configure ON DELETE CASCADE (or a soft-delete pattern) so that deleting an email_sends record automatically removes or marks related events, preventing orphaned events.\n- Deployment: roll out in lower environments first, monitor constraint violations, then promote to production during a low-traffic window.\n- Document the constraint and its impact on ETL/ingestion jobs and downstream analytics.",
    "action_type": "implementation",
    "priority": "high",
    "priority_score": 3.1,
    "impact": "high",
    "effort": "high",
    "estimated_hours": 40,
    "source_decision": "decision_link_email_events_email_sends",
    "dependencies": [
      "action_6",
      "action_7"
    ],
    "assignee_role": "developer",
    "status": "pending"
  },
  {
    "action_id": "action_4",
    "title": "Document email-to-conversion attribution methodology and limitations",
    "description": "Create clear documentation for the conversion-to-email attribution logic used in the provisional link table, targeted at marketing, analytics, and product stakeholders. Content should include:\n- Attribution model type (e.g., last-touch within X days of send/open/click) and key business rules.\n- Data sources used (conversions, email_sends, email_events) and join keys.\n- Known limitations: missing identifiers, cross-device issues, delayed conversions, partial coverage of channels.\n- Confidence indicators: definition of match_score, how to interpret low vs. high scores, and recommended thresholds for reporting.\n- Example queries and standard metrics (e.g., attributed revenue, attributed conversions, email-assisted conversions).\n- Guidance on appropriate vs. inappropriate use cases (e.g., OK for channel-level performance, not for individual-level decisioning if confidence is low).",
    "action_type": "documentation",
    "priority": "high",
    "priority_score": 2.9,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 10,
    "source_decision": "decision_link_conversions_email_sends",
    "dependencies": [
      "action_1"
    ],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_6",
    "title": "Document standardized email event taxonomy and mapping to sends",
    "description": "Produce a canonical taxonomy for email event types and their relationship to email_sends, ensuring consistent interpretation across the e-commerce stack. Documentation should cover:\n- Standard event types (open, click, bounce, spam_complaint, unsubscribe, delivered, deferred, etc.) with precise definitions.\n- Event lifecycle: typical sequence of events for a single send and allowed/expected combinations.\n- Cardinality rules: one email_send can have many events; constraints on multiple opens/clicks; how to treat repeated events.\n- Mapping rules: how email_events.email_send_id is populated from source systems and any known edge cases.\n- Recommended usage in analytics: which events to use for engagement metrics, deliverability metrics, and attribution.\n- Versioning: how new event types will be introduced and governed going forward.",
    "action_type": "documentation",
    "priority": "medium",
    "priority_score": 2.9,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 12,
    "source_decision": "decision_link_email_events_email_sends",
    "dependencies": [],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_8",
    "title": "Implement foreign key constraint between leads and email_sends",
    "description": "Establish a referential integrity constraint between leads and email_sends to ensure every email_sends record references a valid lead (or customer) entity. Implementation details:\n- Confirm the canonical lead key (e.g., leads.id) and corresponding foreign key column in email_sends (e.g., lead_id or customer_id).\n- Profile current data to measure orphaned email_sends (missing/invalid lead references) and identify systemic issues (e.g., ingestion order, missing mappings).\n- Clean up or quarantine invalid records before enabling the constraint.\n- Add a foreign key constraint on email_sends.lead_id → leads.id, with a clear policy for deletes (restrict or soft-delete in leads to avoid mass deletions of sends).\n- Update ETL/ingestion jobs to ensure lead records are created before email_sends or to use upsert patterns.\n- Communicate the change to marketing ops and CRM owners, as it may surface upstream data quality issues.",
    "action_type": "implementation",
    "priority": "medium",
    "priority_score": 2.8000000000000003,
    "impact": "high",
    "effort": "high",
    "estimated_hours": 36,
    "source_decision": "decision_link_vo_leads_email_sends",
    "dependencies": [
      "action_9",
      "action_10"
    ],
    "assignee_role": "developer",
    "status": "pending"
  },
  {
    "action_id": "action_2",
    "title": "Monitor conversion-to-email attribution accuracy over time",
    "description": "Set up ongoing monitoring to assess the accuracy and stability of the conversion-to-email attribution logic. Monitoring design:\n- Metrics: match_rate (% of conversions with at least one email match), multi_match_rate (% with multiple candidate emails), average time_delta between send/open and conversion, distribution of match_score.\n- Time-window validation: compare conversion timestamps with email send/open/click times to detect implausible matches (e.g., conversions before sends).\n- Segment-level checks: break down metrics by campaign, channel, device, and customer segment to identify anomalies.\n- Alerts: configure thresholds for sudden drops/spikes in match_rate or abnormal time_delta distributions and send alerts to data/marketing owners.\n- Reporting: create a lightweight dashboard or scheduled report summarizing weekly attribution quality.\nUse these insights to feed into the 30-day review and future model adjustments.",
    "action_type": "monitoring",
    "priority": "medium",
    "priority_score": 2.5999999999999996,
    "impact": "low",
    "effort": "medium",
    "estimated_hours": 24,
    "source_decision": "decision_link_conversions_email_sends",
    "dependencies": [
      "action_1"
    ],
    "assignee_role": "developer",
    "status": "pending"
  },
  {
    "action_id": "action_7",
    "title": "Create data quality dashboard for email event-to-send linkage",
    "description": "Build a data quality dashboard to track the integrity of the relationship between email_events and email_sends. Dashboard components:\n- Linkage rate: % of email_events with a valid email_send_id and passing FK checks.\n- Orphan events: count and % of events without a valid send, broken down by event_type, source system, and ingestion pipeline.\n- Volume trends: daily/weekly event volumes by type vs. send volumes to detect ingestion or logging issues.\n- Constraint violations: if/when the FK is enabled, track rejected/failed records and their root causes.\n- Drill-down views: ability to inspect sample orphan events and their raw identifiers for debugging.\nThis dashboard should be accessible to data engineering and marketing ops and used as a gate for enabling stricter constraints.",
    "action_type": "monitoring",
    "priority": "medium",
    "priority_score": 2.5999999999999996,
    "impact": "low",
    "effort": "medium",
    "estimated_hours": 24,
    "source_decision": "decision_link_email_events_email_sends",
    "dependencies": [],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_9",
    "title": "Document lead-to-email_sends communication flow and cardinality",
    "description": "Extend the data dictionary to clearly describe how leads relate to email_sends in the e-commerce lifecycle. Documentation should include:\n- Entity relationship: one lead can have many email_sends (1:N), with examples (e.g., welcome series, cart abandonment, promotional campaigns).\n- Key fields: definition of leads.id, email_sends.lead_id (or equivalent), and any alternative identifiers (email, customer_id).\n- Typical flows: diagrams or sequence descriptions from lead creation → subscription → email_sends → email_events → conversions.\n- Edge cases: shared email addresses, merged leads, unsubscribed or bounced leads and how they affect future sends.\n- Ownership: identify system-of-record for leads and for email_sends.\nThis documentation will guide both constraint implementation and troubleshooting of orphaned sends.",
    "action_type": "documentation",
    "priority": "medium",
    "priority_score": 2.5999999999999996,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 10,
    "source_decision": "decision_link_vo_leads_email_sends",
    "dependencies": [],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_10",
    "title": "Monitor orphaned email_sends without valid lead references",
    "description": "Implement monitoring to detect and track email_sends records that lack a valid lead reference, highlighting upstream CRM or identity issues. Monitoring details:\n- Metrics: count and % of email_sends with null/invalid lead_id, trended daily/weekly.\n- Segmentation: break down orphaned sends by campaign, source system, and ingestion pipeline.\n- Root-cause hints: capture common failure patterns (e.g., missing lead creation, failed CRM sync, invalid identifiers).\n- Alerts: configure thresholds for acceptable orphan rates and notify data owners when exceeded.\n- Feedback loop: provide lists of problematic records to CRM/marketing ops for remediation.\nThis monitoring should be in place before or alongside enabling the FK constraint between leads and email_sends.",
    "action_type": "monitoring",
    "priority": "medium",
    "priority_score": 2.5999999999999996,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 16,
    "source_decision": "decision_link_vo_leads_email_sends",
    "dependencies": [],
    "assignee_role": "analyst",
    "status": "pending"
  }
]