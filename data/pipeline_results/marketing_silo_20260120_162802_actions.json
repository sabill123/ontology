[
  {
    "action_id": "action_1",
    "title": "Enforce FK constraint between conversions.campaign_id and ad_campaigns.id",
    "description": "Implement and roll out a formal foreign key constraint from conversions.campaign_id to ad_campaigns.id to ensure all recorded conversions are tied to a valid ad campaign. Steps:\n1) Profile current data to quantify orphaned conversions (conversions.campaign_id not present in ad_campaigns.id) and export a remediation report.\n2) Clean up or decide on handling strategy for existing orphaned records (e.g., map to a fallback campaign, mark as invalid, or delete based on business rules).\n3) Add the FK constraint in the database schema (including ON DELETE/UPDATE behavior, typically RESTRICT or CASCADE based on marketing requirements).\n4) Update ETL/ingestion pipelines to fail fast or route to a quarantine table when invalid campaign_ids are ingested.\n5) Validate in staging, then deploy to production with a rollback plan and monitoring for constraint violations.\nThis will improve referential integrity for marketing attribution, reporting accuracy, and downstream analytics in the e_commerce domain.",
    "action_type": "implementation",
    "priority": "critical",
    "priority_score": 3.4,
    "impact": "high",
    "effort": "medium",
    "estimated_hours": 16,
    "source_decision": "decision_link_vo_conversions_ad_campaigns",
    "dependencies": [],
    "assignee_role": "developer",
    "status": "pending"
  },
  {
    "action_id": "action_2",
    "title": "Document conversion-to-campaign attribution logic and lineage",
    "description": "Create clear, version-controlled documentation of how conversions are attributed to ad campaigns in the e_commerce analytics stack. Scope:\n1) Describe the logical model: how conversions.campaign_id is populated (e.g., last-click, first-click, multi-touch rules), and how it relates to ad_campaigns.id.\n2) Document data lineage: from raw tracking events (e.g., web/app events, ad platform exports) through ETL/ELT jobs into the conversions and ad_campaigns tables.\n3) Specify edge-case handling: missing campaign_id, invalid IDs, default/fallback campaigns, and how these are treated in reports.\n4) Include the new FK constraint behavior and any data quality checks (e.g., what happens when a campaign is deleted or ends).\n5) Publish documentation in the agreed knowledge base (e.g., Confluence, internal wiki, data catalog) and link it to the conversions and ad_campaigns datasets.\nThis documentation will enable marketing analysts and stakeholders to correctly interpret conversion metrics and understand limitations of the attribution model.",
    "action_type": "documentation",
    "priority": "high",
    "priority_score": 2.9,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 8,
    "source_decision": "decision_link_vo_conversions_ad_campaigns",
    "dependencies": [
      "action_1"
    ],
    "assignee_role": "analyst",
    "status": "pending"
  },
  {
    "action_id": "action_3",
    "title": "Implement monitoring and alerts for orphaned conversions",
    "description": "Set up automated monitoring to detect and alert on conversions that reference non-existent campaigns, ensuring ongoing data quality after the FK enforcement. Steps:\n1) Define a metric for orphaned conversions (e.g., daily count and percentage of conversions where campaign_id has no matching ad_campaigns.id, using a left join or FK violation logs).\n2) Implement a scheduled data quality check (SQL or data quality tool) that runs at least daily on the conversions and ad_campaigns tables.\n3) Configure alert thresholds (e.g., any non-zero orphaned conversions after initial cleanup, or >0.1% of daily conversions) and notification channels (Slack/email to data and marketing owners).\n4) Log historical metrics for trend analysis and incident post-mortems.\n5) Integrate with incident management where applicable (e.g., create tickets automatically when thresholds are breached).\nThis monitoring will quickly surface ingestion or integration issues that could degrade marketing attribution accuracy.",
    "action_type": "monitoring",
    "priority": "high",
    "priority_score": 2.9,
    "impact": "low",
    "effort": "low",
    "estimated_hours": 10,
    "source_decision": "decision_link_vo_conversions_ad_campaigns",
    "dependencies": [
      "action_1"
    ],
    "assignee_role": "admin",
    "status": "pending"
  }
]